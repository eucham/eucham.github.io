<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>一条肥鱼</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="一条肥鱼"><meta name="msapplication-TileImage" content="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="一条肥鱼"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="No. I&amp;#39;ll bring me back a souvenir."><meta property="og:type" content="website"><meta property="og:title" content="一条肥鱼"><meta property="og:url" content="https://feiyu.dev/"><meta property="og:site_name" content="一条肥鱼"><meta property="og:description" content="No. I&amp;#39;ll bring me back a souvenir."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://feiyu.dev/img/og_image.png"><meta property="article:author" content="一条肥鱼"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://feiyu.dev"},"headline":"一条肥鱼","image":["https://feiyu.dev/img/og_image.png"],"author":{"@type":"Person","name":"一条肥鱼"},"description":"No. I&#39;ll bring me back a souvenir."}</script><link rel="icon" href="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?7d79380bb26079f6dd33da78e83cf2ab";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png" alt="一条肥鱼" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/categories/Golang">Golang</a><a class="navbar-item" href="/categories/Kubernetes">Kubernetes</a><a class="navbar-item" href="/categories/Docker">Docker</a><a class="navbar-item" href="/about.html">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="To Find Me" href="https://github.com/feiyudev"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-05-07T07:06:56.000Z" title="2018-05-07T07:06:56.000Z">2018-05-07</time>发表</span><span class="level-item"><time dateTime="2022-01-01T07:39:24.942Z" title="2022-01-01T07:39:24.942Z">2022-01-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">后端开发</a></span><span class="level-item">17 分钟读完 (大约2480个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/07/1da1a35aca2b.html">JDBC的使用笔记</a></h1><div class="content">下午花了三四个小时，在慕课网上看了看关于JDBC的两个系列的视频，跟着做了做。因为之前也看过，所以一直都记得有这么一个视频存在，但是唯一不足的是没写上一些笔记。写个简易的学习笔记，加深一下对其中一些知识的理解，以后翻起来就不用去看视频了，看这个就好。还记录下自己在学习过程中所遇到的一些疑问以及自己所</div><a class="article-more button is-small is-size-7" href="/2018/05/07/1da1a35aca2b.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-05-04T06:34:54.000Z" title="2018-05-04T06:34:54.000Z">2018-05-04</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:16.938Z" title="2021-02-09T03:03:16.938Z">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">11 分钟读完 (大约1663个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/04/646a784dbfca.html">SmartRefreshLayout使用记录</a></h1><div class="content"><blockquote>
<p>之前在简书上面的一篇文章，挪到CSDN上来。</p>
</blockquote>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>此开源控件高度省力、美观，理应不会有太多的问题。奈何<a target="_blank" rel="noopener" href="https://github.com/scwang90/SmartRefreshLayout">该项目的主页</a>上面的说明并不能满足我的需求，因此大致翻看了其中的源码，得到了满足自己需求的用法。因此特意地记录下来自己对其的理解，算是对此控件使用的一个小小笔记吧。</p>
<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>所涉及的需求很简单，也是非常常见的一种用法。<strong>下拉刷新，刷新完毕之后关闭刷新动画</strong>。</p>
<h2 id="开始分析"><a href="#开始分析" class="headerlink" title="开始分析"></a>开始分析</h2><p>为了达到这个小小的需求，首先翻看了其的说明文件。并没有与我的需求对应的说明，其上的说明也没有详细说明每个函数的更多用法，多的只是一笔带过的感觉。也许是作者相信我们的能力吧！<br>这一番得到的结果是：</p>
<ul>
<li><code>autoRefresh()</code>应该可以让刷新的动画显示；<code>finishRefresh()</code>应该可以让正在显示的刷新动画停止并消失；下拉刷新类似。</li>
<li>可以通过<code>SmartRefreshLayout.setDefaultRefreshFooterCreater()</code>设置默认的刷新时的动画；下拉加载类似。除此之外，还可以通过其的<code>setRefreshHeader()</code>方法，来设置；下拉加载类似。</li>
<li>可以通过<code>setOnRefreshListener</code>设置监听事件。这是说明中给的一段代码：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">RefreshLayout refreshLayout = (RefreshLayout)findViewById(R.id.refreshLayout);</span><br><span class="line">refreshLayout.setOnRefreshListener(<span class="keyword">new</span> OnRefreshListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRefresh</span><span class="params">(RefreshLayout refreshlayout)</span> </span>&#123;</span><br><span class="line">        refreshlayout.finishRefresh(<span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">refreshLayout.setOnLoadmoreListener(<span class="keyword">new</span> OnLoadmoreListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLoadmore</span><span class="params">(RefreshLayout refreshlayout)</span> </span>&#123;</span><br><span class="line">        refreshlayout.finishLoadmore(<span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
但是当时并没有仔细看这个，才导致了我后来使用时有点摸不着方向啊！其实在使用过程中对此也是有疑问的，这个监听事件到底是什么时候触发的？所以接下来的一段曲折的经历都是基于此上，谁让我没仔细看这个代码~ 其实我一直以为在<code>onRefresh</code>中调用的是<code>finishRefresh()</code>，<code>onLoadMore()</code>中调用的是<code>finishLoadmore()</code>， 所以这根本就说不通啊，啥时候触发这监听事件的都不知道。</li>
</ul>
<h2 id="由一个小小的不仔细引发的旅程"><a href="#由一个小小的不仔细引发的旅程" class="headerlink" title="由一个小小的不仔细引发的旅程"></a>由一个小小的不仔细引发的旅程</h2><blockquote>
<p>虽然缘由是无厘头的，但是我喜欢接下来的这个过程。</p>
</blockquote>
<h4 id="首先，从autoRefresh-看起"><a href="#首先，从autoRefresh-看起" class="headerlink" title="首先，从autoRefresh()看起"></a>首先，从<code>autoRefresh()</code>看起</h4><blockquote>
<p>这个函数的用法到底是怎么样的？它到底是用来干什么的？<br>为了回答自己心中的这个问题，只能习惯性地按着<code>Ctrl</code>点开这个函数。</p>
</blockquote>
<p>开源库中的源码为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自动刷新</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">autoRefresh</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> autoRefresh(<span class="number">400</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个400是什么，看了这个兄弟函数之后，发现是delay，也就是延迟。为啥要这个？很是疑惑，但是心中想到的也就是，在过完了400/1000秒之后，可能会显示刷新的动画吧。接着看，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自动刷新</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">autoRefresh</span><span class="params">(<span class="keyword">int</span> delayed)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> autoRefresh(delayed, <span class="number">1f</span> * (mHeaderHeight + mHeaderExtendHeight / <span class="number">2</span>) / mHeaderHeight);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>大致的意思也就是，说句实话不太想知道这个到底是干啥的，感觉与我想知道的无关。接着看，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"> * 自动刷新</span><br><span class="line"> */</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">autoRefresh</span><span class="params">(<span class="keyword">int</span> delayed, <span class="keyword">final</span> <span class="keyword">float</span> dragrate)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mState == RefreshState.None &amp;&amp; mEnableRefresh) &#123;</span><br><span class="line">        <span class="keyword">if</span> (reboundAnimator != <span class="keyword">null</span>) &#123;</span><br><span class="line">            reboundAnimator.cancel();</span><br><span class="line">        &#125;</span><br><span class="line">        Runnable runnable = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                reboundAnimator = ValueAnimator.ofInt(mSpinner, (<span class="keyword">int</span>) (mHeaderHeight * dragrate));</span><br><span class="line">                reboundAnimator.setDuration(mReboundDuration);</span><br><span class="line">                reboundAnimator.setInterpolator(<span class="keyword">new</span> DecelerateInterpolator());</span><br><span class="line">                reboundAnimator.addUpdateListener(<span class="keyword">new</span> AnimatorUpdateListener() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationUpdate</span><span class="params">(ValueAnimator animation)</span> </span>&#123;</span><br><span class="line">                        moveSpinner((<span class="keyword">int</span>) animation.getAnimatedValue(), <span class="keyword">false</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                reboundAnimator.addListener(<span class="keyword">new</span> AnimatorListenerAdapter() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationStart</span><span class="params">(Animator animation)</span> </span>&#123;</span><br><span class="line">                        mLastTouchX = getMeasuredWidth() / <span class="number">2</span>;</span><br><span class="line">                        setStatePullDownToRefresh();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationEnd</span><span class="params">(Animator animation)</span> </span>&#123;</span><br><span class="line">                        reboundAnimator = <span class="keyword">null</span>;</span><br><span class="line">                        <span class="keyword">if</span> (mState != RefreshState.ReleaseToRefresh) &#123;</span><br><span class="line">                            setStateReleaseToRefresh();</span><br><span class="line">                        &#125;</span><br><span class="line">                        overSpinner();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                reboundAnimator.start();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">if</span> (delayed &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            reboundAnimator = <span class="keyword">new</span> ValueAnimator();</span><br><span class="line">            postDelayed(runnable, delayed);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            runnable.run();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>中间一大堆是初始化了一个<code>Runnable</code>对象，关键的代码在下面：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (delayed &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    reboundAnimator = <span class="keyword">new</span> ValueAnimator();</span><br><span class="line">    postDelayed(runnable, delayed);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    runnable.run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果delayed是小于等于0的数，就直接运行刚才初始化的<code>Runnable</code>对象的<code>run()</code>方法。否则又看到了delayed，很明显，小于等于0就会直接执行<code>Runnable</code>对象的<code>run()</code>，也就是会立刻显示刷新动画。<strong>因此只需要调用<code>autoRefresh(0)</code>方法，便可立刻开启刷新动画。</strong>抱着试试看的心态，好奇地点开了当delayed大于0时会执行的<code>postDelayed()</code>。源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">postDelayed</span><span class="params">(Runnable action, <span class="keyword">long</span> delayMillis)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (handler == <span class="keyword">null</span>) &#123;</span><br><span class="line">        mDelayedRunables = mDelayedRunables == <span class="keyword">null</span> ? <span class="keyword">new</span> ArrayList&lt;DelayedRunable&gt;() : mDelayedRunables;</span><br><span class="line">        mDelayedRunables.add(<span class="keyword">new</span> DelayedRunable(action, delayMillis));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> handler.postDelayed(<span class="keyword">new</span> DelayedRunable(action), delayMillis);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>果然将<code>Runnable</code>对象交给了<code>handler</code>，然后是handler进行的一些延时执行的操作。<br>至此，<code>autoRefresh()</code>的用法便了然于心。</p>
<h4 id="再者，finishRefresh-是到底干啥的？"><a href="#再者，finishRefresh-是到底干啥的？" class="headerlink" title="再者，finishRefresh()是到底干啥的？"></a>再者，<code>finishRefresh()</code>是到底干啥的？</h4><p>它竟然和上者基本上是同样的套路！<br>了然！</p>
<h4 id="那么，setOnRefreshListener到底是个什么"><a href="#那么，setOnRefreshListener到底是个什么" class="headerlink" title="那么，setOnRefreshListener到底是个什么??"></a>那么，<code>setOnRefreshListener</code>到底是个什么??</h4><p>在阅读该项目的WiKi时，看见过默认3秒的说法。可是，我了解到的是，持续3秒，没办法实现啊！我了解到的是，延迟3秒之后再进行某个操作啊！</p>
<p>突然，翻到了源码中的一段代码，一语惊醒梦中人：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (mRefreshListener == <span class="keyword">null</span>) &#123;</span><br><span class="line">    mRefreshListener = <span class="keyword">new</span> OnRefreshListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRefresh</span><span class="params">(RefreshLayout refreshlayout)</span> </span>&#123;</span><br><span class="line">            refreshlayout.finishRefresh(<span class="number">3000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (mLoadmoreListener == <span class="keyword">null</span>) &#123;</span><br><span class="line">    mLoadmoreListener = <span class="keyword">new</span> OnLoadmoreListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLoadmore</span><span class="params">(RefreshLayout refreshlayout)</span> </span>&#123;</span><br><span class="line">            refreshlayout.finishLoadmore(<span class="number">2000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果监听事件为空，也就是我们没有设置默认的监听事件，那么它就会为我们创建一个监听事件，而且执行的是3000，这不就是3秒吗！所以啊，原来这个监听事件就是下拉的时候就会触发的啊。等等，</p>
<p><img src="/images/pics/34625d503df430875f954a23d5b76ef7.png" alt="尴尬"><br>这不是<code>finishRefresh()</code>吗？就是延迟3秒钟之后，关闭刷新动画的显示。那么，<strong>也就是说，<code>autoRefresh()</code>就只会（延迟）开启动画咯</strong>。我还特意去验证了，真是可爱?。<br>突然间看到了说明中的那段设置监听事件的代码，瞬间笑得哭了起来。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>所以，如果设置监听事件的话，并且它为空的话，那么就会一直显示刷新动画。因此，我只需要在开启刷新动画之后，在其中的监听事件的某个时间点关闭刷新动画即可！<br>坑了我的人就只有自己啊！为自己的一时sb买单。<br>附上成功地完成了需求之后的动图：<br><img src="https://github.com/xuchuanjun/xuchuanjun.github.io/raw/master/img/%E5%A4%9A%E6%AC%A1%E8%AF%B7%E6%B1%82%E5%88%B7%E6%96%B0.gif" alt="结果终究还算是好的"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-28T22:41:55.000Z" title="2018-04-28T22:41:55.000Z">2018-04-29</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:24.400Z" title="2021-02-09T03:03:24.400Z">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></span><span class="level-item">2 分钟读完 (大约328个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/29/39d094fb0f99.html">Cmake的基本使用</a></h1><div class="content"><blockquote>
<p>这几天项目中接触到了NDK相关的东西，顺便把Cmake相关的东西补了一下。搞明白了之后， 使用CLion都得心应手了！这篇博客记录一些自己使用到了的并且理解了用法。</p>
</blockquote>
<h2 id="Cmake是什么"><a href="#Cmake是什么" class="headerlink" title="Cmake是什么"></a>Cmake是什么</h2><p>cmake最终生成的是相应的所需要的Makefile，但是Makefile有很多种，因此它可以起到一个跨平台的作用。</p>
<h2 id="使用基本指令"><a href="#使用基本指令" class="headerlink" title="使用基本指令"></a>使用基本指令</h2><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>add_library</code></td>
<td>生成库，如.so</td>
<td><code>add_library(TestLib SHARED library.c library.h)</code></td>
</tr>
<tr>
<td><code>add_executable</code></td>
<td>生成可执行文件</td>
<td><code>add_executable(leetcode007 leetcode_007.cpp)</code></td>
</tr>
<tr>
<td><code>target_link_libraries</code></td>
<td>链接其他库到目标库或者可执行文件上</td>
<td><code>target_link_libraries(executor $&#123;PROJECT_SOURCE_DIR&#125;/../TestCppLib/cmake-build-debug/libTestLib.so)</code></td>
</tr>
<tr>
<td><code>include_directories</code></td>
<td>添加其他需要编译的文件</td>
<td><code>include_directories($&#123;CMAKE_SOURCE_DIR&#125;/src/main/cpp/include )</code></td>
</tr>
</tbody></table>
<h2 id="CLion中的应用"><a href="#CLion中的应用" class="headerlink" title="CLion中的应用"></a>CLion中的应用</h2><p>每添加一个可执行的程序，就会添加一个运行目标。明白怎么搞成像Code::Blocks那样的功能了，加上它的代码提示，要上天啊。<br><img src="/images/pics/9eba8abf050de7b2f003db43780e06b7.png" alt="这里写图片描述"><br>生成的so库在这里<br><img src="/images/pics/c4ec230ab25d039e6b9c43d3e192ffd0.png" alt="这里写图片描述"><br>更多可参考：<a target="_blank" rel="noopener" href="http://www.hahack.com/codes/cmake/">http://www.hahack.com/codes/cmake/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-28T22:03:07.000Z" title="2018-04-28T22:03:07.000Z">2018-04-29</time>发表</span><span class="level-item"><time dateTime="2022-04-20T16:07:53.821Z" title="2022-04-20T16:07:53.821Z">2022-04-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">3 分钟读完 (大约391个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/29/a88c4e43cd3d.html">System.loadLibrary()进程不断重启</a></h1><div class="content">解决这个问题花费了最近很长的一段时间，所以觉得非常有写出来分享的必要。其实这个问题，主要还是需要考虑细心！因为说到底是权限的问题，但是又与平常所说的权限问题有很大的差别。网上遇到的一些关于加载so库的问题都是什么连接问题、什么又找不到了的之类，都是可以正常吐出Exception的情况，这个连个Exc</div><a class="article-more button is-small is-size-7" href="/2018/04/29/a88c4e43cd3d.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-28T19:58:54.000Z" title="2018-04-28T19:58:54.000Z">2018-04-29</time>发表</span><span class="level-item"><time dateTime="2022-01-01T07:45:42.003Z" title="2022-01-01T07:45:42.003Z">2022-01-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">6 分钟读完 (大约828个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/29/779d4e5acb73.html">EventBus3的基本使用指南</a></h1><div class="content">使用EventBus可以省略繁杂的Handler，效果也是类似的，使用方法也很简单。这里从官网上面做一个小小的总结，可以看得更全面一些。入门贴官方教程定义事件事件就是一个普通的Java类，POJO就好。public class MessageEvent {    public final Strin</div><a class="article-more button is-small is-size-7" href="/2018/04/29/779d4e5acb73.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-28T18:55:06.000Z" title="2018-04-28T18:55:06.000Z">2018-04-29</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:53.729Z" title="2021-02-09T03:03:53.729Z">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">1 分钟读完 (大约214个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/29/1aa78a1af661.html">关于Bitmap相关的一些总结</a></h1><div class="content"><h3 id="如何从当前View获取到Bitmap"><a href="#如何从当前View获取到Bitmap" class="headerlink" title="如何从当前View获取到Bitmap"></a>如何从当前View获取到Bitmap</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">v.setDrawingCacheEnabled(<span class="keyword">true</span>);</span><br><span class="line">v.buildDrawingCache();</span><br><span class="line">Bitmap bitmap = v.getDrawingCache();</span><br></pre></td></tr></table></figure>

<h3 id="如何从TextureView中获取Bitmap"><a href="#如何从TextureView中获取Bitmap" class="headerlink" title="如何从TextureView中获取Bitmap"></a>如何从TextureView中获取Bitmap</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mTextureView.getBitmap();</span><br></pre></td></tr></table></figure>

<h3 id="如何压缩Bitmap"><a href="#如何压缩Bitmap" class="headerlink" title="如何压缩Bitmap"></a>如何压缩Bitmap</h3><p>压缩成适配目标宽、高的Bitmap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * get a scaled bitmap from a file located in path, adjust to destWidth and destHeight</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> path the bitmap&#x27;s file location</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destWidth destination width</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destHeight destination height</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> a scaled bitmap</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">getScaledBitmap</span><span class="params">(String path, <span class="keyword">int</span> destWidth, <span class="keyword">int</span> destHeight)</span></span>&#123;</span><br><span class="line">    BitmapFactory.Options options = <span class="keyword">new</span> BitmapFactory.Options();</span><br><span class="line">    options.inJustDecodeBounds = <span class="keyword">true</span>;</span><br><span class="line">    BitmapFactory.decodeFile(path, options);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> srcWidth = options.outWidth;</span><br><span class="line">    <span class="keyword">float</span> srcHeight = options.outHeight;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> inSampleSize = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (srcHeight &gt; destHeight || srcWidth &gt; destWidth)&#123;</span><br><span class="line">        <span class="keyword">float</span> heightScale = srcHeight / destHeight;</span><br><span class="line">        <span class="keyword">float</span> widthScale = srcWidth / destWidth;</span><br><span class="line"></span><br><span class="line">        inSampleSize = Math.round(heightScale &gt; widthScale ? heightScale : widthScale);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    options = <span class="keyword">new</span> BitmapFactory.Options();</span><br><span class="line">    options.inSampleSize = inSampleSize;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> BitmapFactory.decodeFile(path, options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="如何将Bitmap与byte-相互转换"><a href="#如何将Bitmap与byte-相互转换" class="headerlink" title="如何将Bitmap与byte[]相互转换"></a>如何将Bitmap与byte[]相互转换</h3><p>从Bitmap到byte[]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> bytes = bmp.getByteCount();</span><br><span class="line">ByteBuffer buf = ByteBuffer.allocate(bytes);</span><br><span class="line">bmp.copyPixelsToBuffer(buf);</span><br><span class="line"><span class="keyword">byte</span>[] byteArray = buf.array();</span><br></pre></td></tr></table></figure>
<p>从byte[]到Bitmap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Bitmap stitchBmp = Bitmap.createBitmap(width, height, type);</span><br><span class="line">stitchBmp.copyPixelsFromBuffer(ByteBuffer.wrap(byteArray));</span><br><span class="line">imageView.setImageBitmap(stitchBmp);</span><br></pre></td></tr></table></figure>

<h3 id="缩略图相关"><a href="#缩略图相关" class="headerlink" title="缩略图相关"></a>缩略图相关</h3><p><a target="_blank" rel="noopener" href="http://jayfeng.com/2016/03/16/%E7%90%86%E8%A7%A3ThumbnailUtils/">理解ThumbnaiUtils</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-19T11:15:00.000Z" title="2018-04-19T11:15:00.000Z">2018-04-19</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:51.378Z" title="2021-02-09T03:03:51.378Z">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></span><span class="level-item">9 分钟读完 (大约1407个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/19/858b4c830e1e.html">安卓系统应用调试脚本</a></h1><div class="content"><blockquote>
<p>这是一个对之前写的脚本的记录档案，自己也看不太懂当时的写法了，羞愧。用一个 repo 放这些脚本代码感觉有些浪费，干脆整个文章记录曾经的那段历史吧！</p>
</blockquote>
<p>这代码的主要目的就是想少敲点命令，一步到位，做一个快男！</p>
<h2 id="说明-AndroidROMTools"><a href="#说明-AndroidROMTools" class="headerlink" title="说明 - AndroidROMTools"></a>说明 - AndroidROMTools</h2><p>Android run script tools for debugging system apps or frameworks. This was used by myself when debugging system apps or frameworks. In this project, module names was not given to avoid the project name, but the main structure was reminded.</p>
<p>此脚本主要分成一个入口与两个模块，详细的树状图如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── README.md</span><br><span class="line">├── btool</span><br><span class="line">├── modules</span><br><span class="line">│   ├── handleFramework.sh</span><br><span class="line">│   ├── handleXxxx.sh</span><br><span class="line">│   └── handleXxxxxx.sh</span><br><span class="line">└── utils</span><br><span class="line">    ├── handleSpecificTask.sh</span><br><span class="line">    ├── init.sh</span><br><span class="line">    ├── printOperationTip.sh</span><br><span class="line">    ├── tipWhenNotImplement.sh</span><br><span class="line">    └── tipWhenParametersError.sh</span><br><span class="line"></span><br><span class="line">2 directories, 10 files</span><br></pre></td></tr></table></figure>

<h2 id="入口"><a href="#入口" class="headerlink" title="入口"></a>入口</h2><p>名字叫 <code>btool</code>，为啥起这个怪名字，我也不知道。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> initialize variables</span></span><br><span class="line">var1=$1</span><br><span class="line">var2=$2</span><br><span class="line">var3=$3</span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line">MODULES_DIR=~/.PersonalTools/modules</span><br><span class="line"></span><br><span class="line">case $var1 in</span><br><span class="line">    &quot;init&quot; )</span><br><span class="line">        $&#123;UTILS_DIR&#125;/init.sh</span><br><span class="line">        ;;</span><br><span class="line">    &quot;log&quot; )</span><br><span class="line">        adb logcat -b main \*:E | grep &quot;TAG&quot;</span><br><span class="line">        ;;</span><br><span class="line">    &quot;wxxxx&quot; )</span><br><span class="line">        $&#123;MODULES_DIR&#125;/handleXXXX.sh $var2 $var3</span><br><span class="line">        ;;</span><br><span class="line">    &quot;txxxx&quot; )</span><br><span class="line">        $&#123;MODULES_DIR&#125;/handlexxxxxx.sh $var2 $var3</span><br><span class="line">        #$&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh $var1</span><br><span class="line">        ;;</span><br><span class="line">    &quot;txxxx&quot; )</span><br><span class="line">        $&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh $var1</span><br><span class="line">        ;;</span><br><span class="line">    &quot;mxxxx&quot;  )</span><br><span class="line">        $&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh $var1</span><br><span class="line">        ;;    </span><br><span class="line">	*	) </span><br><span class="line"><span class="meta">		#</span><span class="bash"><span class="variable">$&#123;UTILS_DIR&#125;</span>/tipWhenParametersError.sh init xxxxxx *xxxxxx* *xxxxxx* *xxxxxx*</span></span><br><span class="line">        if [ &quot;$&#123;var1&#125;&quot; == &quot;&quot; ]; then</span><br><span class="line">            $&#123;UTILS_DIR&#125;/tipWhenParametersError.sh init xxxx *xxxx* *xxxxxx* *xxxxxx*</span><br><span class="line">        elif [ -f $&#123;MODULES_DIR&#125;/$var1.sh ]; then</span><br><span class="line">            #$&#123;UTILS_DIR&#125;/tipWhenParametersError.sh init xxxxxx *xxxxxx* *xxxxxx* *xxxxxx*</span><br><span class="line">            $&#123;MODULES_DIR&#125;/$var1.sh</span><br><span class="line">        else</span><br><span class="line">            $&#123;UTILS_DIR&#125;/tipWhenParametersError.sh init xxxxxx *txxxxxx* *txxxxxx* *mxxxxxx*</span><br><span class="line">            $&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh &quot;$&#123;var1&#125;&quot;</span><br><span class="line">        fi</span><br><span class="line">		;;</span><br><span class="line">esac</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<h2 id="Utils"><a href="#Utils" class="headerlink" title="Utils"></a>Utils</h2><ul>
<li><p>初始化：<code>init.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">adb root</span><br><span class="line">adb wait-for-device remount</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印带颜色的字符：<code>printOperationTip.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">echo</span> -e <span class="string">&quot;\e[31;43m-----------------------------------------------------------\e[0m&quot;</span></span></span><br><span class="line">echo &quot;&quot;</span><br><span class="line">echo -e &quot;\e[31;47m\t&quot;$1&quot;\t\e[0m&quot;</span><br><span class="line">echo &quot;&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">echo</span> -e <span class="string">&quot;\e[31;43m-----------------------------------------------------------\e[0m&quot;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>模块未完成的告警提示：<code>tipWhenNotImplement.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/bin/bash</span></span><br><span class="line">echo -e &quot;\nModule &lt; \e[41m$1\e[0m \e[31m&gt;NOT IMPELEMNT!\e[0m\n&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数错误提示：<code>tipWhenParametersError.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">clear</span></span><br><span class="line">echo &quot;&quot;</span><br><span class="line">echo -e &quot;\e[31;42mOops! Please give me the \e[0m\e[1;5;40;31mcorrect\e[0m\e[31;42m parameters!!!\e[0m&quot;</span><br><span class="line">echo &quot;&quot;</span><br><span class="line"></span><br><span class="line">params=&quot;&quot;</span><br><span class="line">cnt=1;</span><br><span class="line">for i in $@;</span><br><span class="line">do</span><br><span class="line">	if [ $cnt != 1 ]; then</span><br><span class="line">		params=$params&quot;,\e[1;5;31;40m &quot;$i&quot; \e[0m&quot;</span><br><span class="line">	else</span><br><span class="line">		params=&quot;\e[1;5;31;40m &quot;$i&quot; \e[0m&quot;</span><br><span class="line">	fi</span><br><span class="line">	cnt=$(($cnt+1))</span><br><span class="line">done</span><br><span class="line">if [  $cnt == 1 ]; then</span><br><span class="line">	params=&quot;\e[4;31mNONE\e[0m&quot;</span><br><span class="line">fi</span><br><span class="line">echo -e &quot;\e[33mavaliable parameters are :\e[0m&quot; $params&quot;\n&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>处理特定任务：<code>handleSpecificTask.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line"></span><br><span class="line">OP_INDEX=$1</span><br><span class="line">PROJECT_SRC_DIR=$2</span><br><span class="line">APP_SRC_DIR=$3</span><br><span class="line">APP_OUT_DIR=$4</span><br><span class="line">APP_REMOTE_DIR=$5</span><br><span class="line">APP_PKG_NAME=$6</span><br><span class="line">PROJECT_LUNCH_IDX=$7</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$@</span>; <span class="keyword">do</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash">statements</span></span><br><span class="line"><span class="meta">#</span><span class="bash">	<span class="built_in">echo</span> <span class="variable">$i</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">done</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">for</span> compile SnapCamera APK <span class="keyword">in</span></span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">if</span> [ -f /tmp/btoollog ]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">else</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">echo</span> <span class="string">&quot;/tmp/btoollog not exists&quot;</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash">mkdir /tmp/btoollog</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">fi</span></span></span><br><span class="line"></span><br><span class="line">function compileModifiedSourceCode()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to Compile&gt;&quot;</span></span></span><br><span class="line">	cd $&#123;PROJECT_SRC_DIR&#125;</span><br><span class="line">	pwd</span><br><span class="line">	source build/envsetup.sh</span><br><span class="line">	lunch $&#123;PROJECT_LUNCH_IDX&#125;</span><br><span class="line">	cd $&#123;APP_SRC_DIR&#125;</span><br><span class="line">	pwd</span><br><span class="line">	mm</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function makeSureCloseCompletelyAndReopen()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to force-stop APK&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line">	echo -e &quot;\n\e[32m\ttry to stop app\e[0m&quot;</span><br><span class="line">	adb shell am force-stop $&#123;APP_PKG_NAME&#125;</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line"></span><br><span class="line">	echo -e &quot;\n\e[32m\ttry to start app\e[0m&quot;</span><br><span class="line">	adb shell am start -n $&#123;APP_PKG_NAME&#125;</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function pushCompiledAPK2Phone()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to Push APK&gt;&quot;</span></span></span><br><span class="line">	cd $&#123;APP_OUT_DIR&#125;</span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">pwd</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;APP_OUT_DIR&#125;</span>&quot;</span></span></span><br><span class="line">	adb push . $&#123;APP_REMOTE_DIR&#125;</span><br><span class="line"><span class="meta">	#</span><span class="bash">adb push oat/arm64/<span class="variable">$appname</span>.odex /system/priv-app/<span class="variable">$appname</span>/oat/arm64/<span class="variable">$appname</span>.odex</span></span><br><span class="line">	if [ $? -eq 0 ]; then</span><br><span class="line">		echo -e &quot;\n\e[32m\tpush app to phone successfully\e[0m&quot;</span><br><span class="line">	fi</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function checkPushedFilesStatus()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to Check Push Result&gt;&quot;</span></span></span><br><span class="line">	adb shell ls -l $&#123;APP_REMOTE_DIR&#125; $&#123;APP_REMOTE_DIR&#125;/oat/arm64/</span><br><span class="line">	if [ $? -eq 0 ]; then</span><br><span class="line">		echo -e &quot;\n\e[32m\tconnect to phone successfully\e[0m&quot;</span><br><span class="line">	fi</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">&quot;0&quot;  )</span><br><span class="line">	compileModifiedSourceCode</span><br><span class="line">	pushCompiledAPK2Phone</span><br><span class="line">	makeSureCloseCompletelyAndReopen</span><br><span class="line">	checkPushedFilesStatus</span><br><span class="line">	;;</span><br><span class="line">&quot;1&quot; )</span><br><span class="line">	compileModifiedSourceCode</span><br><span class="line">	;;</span><br><span class="line">&quot;2&quot; )</span><br><span class="line">	pushCompiledAPK2Phone</span><br><span class="line">	;;</span><br><span class="line">&quot;3&quot; )</span><br><span class="line">	makeSureCloseCompletelyAndReopen</span><br><span class="line">	;;</span><br><span class="line">&quot;4&quot;	)</span><br><span class="line">	checkPushedFilesStatus</span><br><span class="line">	;;</span><br><span class="line">&quot;subl&quot; )</span><br><span class="line">	subl $&#123;APP_SRC_DIR&#125;</span><br><span class="line">	;;</span><br><span class="line">&quot;src&quot; )</span><br><span class="line">	echo $&#123;APP_SRC_DIR&#125;</span><br><span class="line">	;;</span><br><span class="line">* )</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/tipWhenParametersError.sh 0 1 2 3 4 subl src</span></span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 0 \e[0m\t : \e[33m1 -&gt; 2 -&gt; 3 -&gt; 4\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 1 \e[0m\t : \e[33mCompile Modified Source Code\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 2 \e[0m\t : \e[33mPush Compiled APK 2 Phone\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 3 \e[0m\t : \e[33mClose App\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 4 \e[0m\t : \e[33mShow App Info\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m subl \e[0m\t : \e[33mOpen App Src With Sublime Text\e[0m\n&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m src \e[0m\t : \e[33mPrint SRC path\e[0m\n&quot;</span><br><span class="line">	;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><ul>
<li><p>Android Framework 处理：<code>handleFramework.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">SRC_HOME=/home/ckt/work/xxxxxx/msm8909_go/LINUX/android/frameworks/base</span><br><span class="line">OUT_HOME=/home/ckt/work/xxxxxx/msm8909_go/LINUX/android/out/target/product/msm8909go/system/framework</span><br><span class="line"></span><br><span class="line">cd /home/ckt/work/xxxxxx/msm8909_go/LINUX/android/</span><br><span class="line"></span><br><span class="line">source build/envsetup.sh</span><br><span class="line">lunch 29</span><br><span class="line">make framework</span><br><span class="line">make snod</span><br><span class="line"></span><br><span class="line">adb push $&#123;OUT_HOME&#125;/arm/boot.oat /system/framework/arm/</span><br><span class="line">adb push $&#123;OUT_HOME&#125;/arm/boot.art /system/framework/arm/</span><br><span class="line"></span><br><span class="line">adb push $&#123;OUT_HOME&#125;/framework.jar /system/framework/</span><br><span class="line">adb push $&#123;OUT_HOME&#125;/framework-res.apk /system/framework/</span><br><span class="line"></span><br><span class="line">adb reboot bootloader</span><br></pre></td></tr></table></figure>
</li>
<li><p>桌面时钟：<code>handleXxxx.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/bin/bash</span></span><br><span class="line"></span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line"></span><br><span class="line">PROJECT_DIR=&quot;/home/ckt/work/android8&quot;</span><br><span class="line">PROJECT_SRC_DIR=$&#123;PROJECT_DIR&#125;</span><br><span class="line">PROJECT_OUT_DIR=$&#123;PROJECT_DIR&#125;/out/target/product/msm8953_64</span><br><span class="line">PROJECT_LUNCH_IDX=39</span><br><span class="line"></span><br><span class="line">DESKCLOCK_SRC_DIR=$&#123;PROJECT_SRC_DIR&#125;/packages/apps/DeskClock/</span><br><span class="line">DESKCLOCK_OUT_DIR=$&#123;PROJECT_OUT_DIR&#125;/system/app/DeskClock/</span><br><span class="line">DESKCLOCK_PKG_NAME=com.android.deskclock</span><br><span class="line">DESKCLOCK_REMOTE_DIR=/system/app/DeskClock</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">	&quot;deskclock&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_SRC_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_OUT_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_REMOTE_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	* )</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/tipWhenParametersError.sh deskclock</span></span><br><span class="line">		;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
</li>
<li><p>多媒体应用：<code>handleXxxxxx.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line"></span><br><span class="line">PROJECT_DIR=&quot;/home/ckt/work/xxxxxxx/LINUX/android&quot;</span><br><span class="line">PROJECT_SRC_DIR=&quot;$&#123;PROJECT_DIR&#125;&quot;</span><br><span class="line">PROJECT_OUT_DIR=&quot;$&#123;PROJECT_DIR&#125;/out/target/product/msm8909go&quot;</span><br><span class="line">PROJECT_LUNCH_IDX=29</span><br><span class="line"></span><br><span class="line">SOUNDRECORDER_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/SoundRecorder/&quot;</span><br><span class="line">SOUNDRECORDER_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/priv-app/SoundRecorder/&quot;</span><br><span class="line">SOUNDRECORDER_PKG_NAME=com.android.soundrecorder</span><br><span class="line">SOUNDRECORDER_REMOTE_DIR=/system/priv-app/SoundRecorder</span><br><span class="line"></span><br><span class="line">GALLERY_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/Gallery2/&quot;</span><br><span class="line">GALLERY_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/app/Gallery2/&quot;</span><br><span class="line">GALLERY_PKG_NAME=com.android.gallery3d</span><br><span class="line">GALLERY_REMOTE_DIR=/system/app/Gallery2</span><br><span class="line"></span><br><span class="line">SNAPDRAGONMUSIC_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/Music/&quot;</span><br><span class="line">SNAPDRAGONMUSIC_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/app/Music/&quot;</span><br><span class="line">SNAPDRAGONMUSIC_PKG_NAME=com.android.music</span><br><span class="line">SNAPDRAGONMUSIC_REMOTE_DIR=/system/app/Music</span><br><span class="line"></span><br><span class="line">CLOCK_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/DeskClock&quot;</span><br><span class="line">CLOCK_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/app/DeskClock&quot;</span><br><span class="line">CLOCK_PKG_NAME=com.android.deskclock</span><br><span class="line">CLOCK_REMOTE_DIR=/system/app/DeskClock</span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">	&quot;soundrecorder&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_SRC_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_OUT_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_REMOTE_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	&quot;gallery&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;GALLERY_SRC_DIR&#125;</span> <span class="variable">$&#123;GALLERY_OUT_DIR&#125;</span> <span class="variable">$&#123;GALLERY_REMOTE_DIR&#125;</span> <span class="variable">$&#123;GALLERY_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	&quot;music&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_SRC_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_OUT_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_REMOTE_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	&quot;clock&quot; ) </span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;CLOCK_SRC_DIR&#125;</span> <span class="variable">$&#123;CLOCK_OUT_DIR&#125;</span> <span class="variable">$&#123;CLOCK_REMOTE_DIR&#125;</span> <span class="variable">$&#123;CLOCK_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	* )</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/tipWhenParametersError.sh soundrecorder gallery music clock</span></span><br><span class="line">		;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>目前这些脚本对我来说，已无实际用途，不能保证准确性，只是做一个纪念，纪念那段无知却在挣扎的时光。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-17T15:02:27.000Z" title="2018-04-17T15:02:27.000Z">2018-04-17</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:02.616Z" title="2021-02-09T03:03:02.616Z">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></span><span class="level-item">7 分钟读完 (大约1053个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/17/acdc45f57935.html">ProjectA 项目辅助脚本档案</a></h1><div class="content"><blockquote>
<p>本文主要记录在做 ProjectA 时用到的 Python 脚本，因为用得频繁，所以做成了脚本，避免重复输命令。</p>
</blockquote>
<p>项目树状结构图如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── CommonTips.py</span><br><span class="line">├── DumpPhotos.py</span><br><span class="line">├── FallWithMask.py</span><br><span class="line">├── OfflineSoRunner.py</span><br><span class="line">└── main.py</span><br></pre></td></tr></table></figure>

<p>它主要的功能是：</p>
<ul>
<li>从 Android 手机拉取照片（需要手机连接到电脑并且安装好 adb 命令）</li>
<li>在 Android 手机上以 shell 的形式跑 so 库算法，一般是在 apk 上运行</li>
<li>这个带 mask 分析已经看不懂是什么意思了</li>
</ul>
<h2 id="入口：main-py"><a href="#入口：main-py" class="headerlink" title="入口：main.py"></a>入口：main.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> CommonTips</span><br><span class="line"><span class="keyword">import</span> DumpPhotos</span><br><span class="line"><span class="keyword">import</span> OfflineSoRunner</span><br><span class="line"><span class="keyword">import</span> FallWithMask</span><br><span class="line">sub_model_name = <span class="string">&#x27;Main Menu&#x27;</span></span><br><span class="line">op_info = <span class="string">&#x27;&#x27;&#x27;\n--------------Main Menu--------------</span></span><br><span class="line"><span class="string">| 【0】：Dump照片</span></span><br><span class="line"><span class="string">| 【1】：离线跑算法库</span></span><br><span class="line"><span class="string">| 【2】：带mask分析跌倒视频&#x27;&#x27;&#x27;</span> + CommonTips.tip_ops+<span class="string">&#x27;-------------------------------------\n&#x27;</span></span><br><span class="line">print(op_info)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    cmd = <span class="built_in">input</span>(<span class="string">&#x27;（&#x27;</span>+sub_model_name+<span class="string">&#x27;）&#x27;</span>+CommonTips.tip_input_cmd)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> cmd.isdigit():</span><br><span class="line">        cmd = <span class="built_in">int</span>(cmd)</span><br><span class="line">        <span class="keyword">if</span> cmd == <span class="number">0</span>:</span><br><span class="line">            DumpPhotos.main()</span><br><span class="line">        <span class="keyword">elif</span> cmd == <span class="number">1</span>:</span><br><span class="line">            OfflineSoRunner.main()</span><br><span class="line">        <span class="keyword">elif</span> cmd == <span class="number">2</span>:</span><br><span class="line">            FallWithMask.main()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(CommonTips.tip_arg_error)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;h&#x27;</span> == cmd.lower():</span><br><span class="line">            print(op_info)</span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&#x27;q&#x27;</span> == cmd.lower():</span><br><span class="line">            print(CommonTips.tip_quit)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(CommonTips.tip_arg_error)</span><br></pre></td></tr></table></figure>

<h2 id="提示输出：CommonTips-py"><a href="#提示输出：CommonTips-py" class="headerlink" title="提示输出：CommonTips.py"></a>提示输出：CommonTips.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tip_arg_error = <span class="string">&#x27;&#x27;&#x27;--------------------------</span></span><br><span class="line"><span class="string">| X 参数错误，请重新输入！ |</span></span><br><span class="line"><span class="string">--------------------------\n&#x27;&#x27;&#x27;</span></span><br><span class="line">tip_quit = <span class="string">&quot;已退出子模块&quot;</span></span><br><span class="line">tip_input_cmd = <span class="string">&quot;请输入命令：&quot;</span></span><br><span class="line">tip_ops = <span class="string">&#x27;&#x27;&#x27;\n|************************************</span></span><br><span class="line"><span class="string">| 【h】：打印本帮助</span></span><br><span class="line"><span class="string">| 【q】：退出本模块</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="拉取照片：DumpPhotos-py"><a href="#拉取照片：DumpPhotos-py" class="headerlink" title="拉取照片：DumpPhotos.py"></a>拉取照片：DumpPhotos.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> CommonTips</span><br><span class="line"></span><br><span class="line">sub_model_name = <span class="string">&#x27;Dump照片&#x27;</span></span><br><span class="line"></span><br><span class="line">save_path = <span class="string">&quot;C:\\Users\\D22433\\Desktop\\DumpPhotos\\&quot;</span></span><br><span class="line">remote_path = <span class="string">&quot;/sdcard/AlgoTest/&quot;</span></span><br><span class="line"></span><br><span class="line">pull_photo_2_local = <span class="string">&quot;adb pull &quot;</span>+remote_path+<span class="string">&quot; &quot;</span>+save_path</span><br><span class="line">del_local_photos = <span class="string">&quot;del /Q &quot;</span>+save_path+<span class="string">&quot;\\*&quot;</span></span><br><span class="line">del_remote_photos = <span class="string">&#x27;adb shell &quot;rm -rf &#x27;</span>+remote_path+<span class="string">&#x27;/*&quot;&#x27;</span></span><br><span class="line"></span><br><span class="line">op_info = <span class="string">&#x27;&#x27;&#x27;--------------Dump照片--------------</span></span><br><span class="line"><span class="string">| 【0】：从安卓端拉取dump照片至本地</span></span><br><span class="line"><span class="string">| 【1】：删除本地dump照片</span></span><br><span class="line"><span class="string">| 【2】：删除安卓dump照片</span></span><br><span class="line"><span class="string">| 【3】：删除本地&amp;安卓dump照片&#x27;&#x27;&#x27;</span> + CommonTips.tip_ops+<span class="string">&#x27;-----------------------------------&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    print(op_info)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        cmd = <span class="built_in">input</span>(<span class="string">&#x27;（&#x27;</span>+sub_model_name+<span class="string">&#x27;）&#x27;</span>+CommonTips.tip_input_cmd)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> cmd.isdigit():</span><br><span class="line">            cmd = <span class="built_in">int</span>(cmd)</span><br><span class="line">            <span class="keyword">if</span> cmd == <span class="number">0</span>:</span><br><span class="line">                os.system(pull_photo_2_local)</span><br><span class="line">            <span class="keyword">elif</span> cmd == <span class="number">1</span>:</span><br><span class="line">                os.system(del_local_photos)</span><br><span class="line">            <span class="keyword">elif</span> cmd == <span class="number">2</span>:</span><br><span class="line">                os.system(del_remote_photos)</span><br><span class="line">            <span class="keyword">elif</span> cmd == <span class="number">3</span>:</span><br><span class="line">                os.system(del_local_photos)</span><br><span class="line">                os.system(del_remote_photos)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(CommonTips.tip_arg_error)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;h&#x27;</span> == cmd.lower():</span><br><span class="line">                print(op_info)</span><br><span class="line">            <span class="keyword">elif</span> <span class="string">&#x27;q&#x27;</span> == cmd.lower():</span><br><span class="line">                print(CommonTips.tip_quit)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(CommonTips.tip_arg_error)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h2 id="离线跑-so-库：OfflineSoRunner-py"><a href="#离线跑-so-库：OfflineSoRunner-py" class="headerlink" title="离线跑 so 库：OfflineSoRunner.py"></a>离线跑 so 库：OfflineSoRunner.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> CommonTips</span><br><span class="line"></span><br><span class="line">sub_model_name = <span class="string">&#x27;跑离线算法库&#x27;</span></span><br><span class="line"></span><br><span class="line">model_path_local = <span class="string">&#x27;E:\\ProjectA\\latestModel&#x27;</span></span><br><span class="line">model_path_remote = <span class="string">&#x27;/sdcard/apache/model/&#x27;</span></span><br><span class="line"></span><br><span class="line">exe_path_local = <span class="string">&#x27;E:\\projects\\Android\\projectA_app\\app\\build\\intermediates\\cmake\\debug\\obj\\arm64-v8a\\executor&#x27;</span></span><br><span class="line">exe_path_remote = <span class="string">&#x27;/system/app/&#x27;</span></span><br><span class="line"></span><br><span class="line">so_path_local = <span class="string">&#x27;E:\\ProjectA\\latestLib&#x27;</span></span><br><span class="line">so_path_remote = <span class="string">&#x27;/system/lib64/&#x27;</span></span><br><span class="line"></span><br><span class="line">cmd_push_model = <span class="string">&#x27;adb push &#x27;</span> + model_path_local + <span class="string">&#x27; &#x27;</span> + model_path_remote</span><br><span class="line">cmd_push_exe = <span class="string">&#x27;adb push &#x27;</span> + exe_path_local + <span class="string">&#x27; &#x27;</span> + exe_path_remote</span><br><span class="line">cmd_grant_permission = <span class="string">&#x27;adb shell chmod 777 /system/app/executor&#x27;</span></span><br><span class="line">cmd_push_so = <span class="string">&#x27;adb push &#x27;</span> + so_path_local + <span class="string">&#x27; &#x27;</span> + so_path_remote</span><br><span class="line"></span><br><span class="line">op_info = <span class="string">&#x27;&#x27;&#x27;--------------跑离线算法库--------------</span></span><br><span class="line"><span class="string">| 【0】：推送算法库所需要的数据文件</span></span><br><span class="line"><span class="string">| 【1】：推送算法库so文件</span></span><br><span class="line"><span class="string">| 【2】：推送可执行文件并授予运行权限</span></span><br><span class="line"><span class="string">| 【3】：执行可执行文件</span></span><br><span class="line"><span class="string">|    1 for testing checkFall</span></span><br><span class="line"><span class="string">|    2 for testing detectFaceNumber</span></span><br><span class="line"><span class="string">|    3 for testing extractFaceFeature</span></span><br><span class="line"><span class="string">|    others for quit.&#x27;&#x27;&#x27;</span> + CommonTips.tip_ops + <span class="string">&#x27;----------------------------------------&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    print(op_info)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        cmd = <span class="built_in">input</span>(<span class="string">&#x27;（&#x27;</span>+sub_model_name+<span class="string">&#x27;）&#x27;</span>+CommonTips.tip_input_cmd)</span><br><span class="line">        <span class="keyword">if</span> cmd.isdigit():</span><br><span class="line">            cmd = <span class="built_in">int</span>(cmd)</span><br><span class="line">            <span class="keyword">if</span> cmd == <span class="number">0</span>:</span><br><span class="line">                os.system(cmd_push_model)</span><br><span class="line">            <span class="keyword">elif</span> cmd == <span class="number">1</span>:</span><br><span class="line">                os.system(cmd_push_so)</span><br><span class="line">            <span class="keyword">elif</span> cmd == <span class="number">2</span>:</span><br><span class="line">                os.system(cmd_push_exe)</span><br><span class="line">                os.system(cmd_grant_permission)</span><br><span class="line">            <span class="keyword">elif</span> cmd == <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    choice = <span class="built_in">input</span>(<span class="string">&quot;测试选项：&quot;</span>)</span><br><span class="line">                    <span class="keyword">if</span> choice == <span class="string">&#x27;1&#x27;</span> <span class="keyword">or</span> choice == <span class="string">&#x27;2&#x27;</span> <span class="keyword">or</span> choice == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">                        <span class="comment"># do something about checkFall</span></span><br><span class="line">                        command = <span class="string">&#x27;adb shell &quot;/system/app/executor &#x27;</span> + choice + <span class="string">&#x27; `ls /sdcard/TestData&#x27;</span> + choice + <span class="string">&#x27;`&quot;&#x27;</span></span><br><span class="line">                        print(command)</span><br><span class="line">                        os.system(command)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(CommonTips.tip_arg_error)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;h&#x27;</span> == cmd.lower():</span><br><span class="line">                print(op_info)</span><br><span class="line">            <span class="keyword">elif</span> <span class="string">&#x27;q&#x27;</span> == cmd.lower():</span><br><span class="line">                print(CommonTips.tip_quit)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(CommonTips.tip_arg_error)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h2 id="带-mask-分析：FallWithMask-py"><a href="#带-mask-分析：FallWithMask-py" class="headerlink" title="带 mask 分析：FallWithMask.py"></a>带 mask 分析：FallWithMask.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> CommonTips</span><br><span class="line"></span><br><span class="line">sub_model_name = <span class="string">&#x27;带mask跌倒检测&#x27;</span></span><br><span class="line"></span><br><span class="line">exe_path = <span class="string">&#x27;E:\\ProjectA\\TestVideoWithMask\\TestVideoWithMask.exe&#x27;</span></span><br><span class="line">video_path = <span class="string">&#x27;E:\\ProjectA\\videos&#x27;</span></span><br><span class="line">remote_path = <span class="string">&#x27;/sdcard/LuPingDaShi/Rec/&#x27;</span></span><br><span class="line"></span><br><span class="line">op_info = <span class="string">&#x27;--------------带mask跌倒检测--------------&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># pull videos</span></span><br><span class="line">    pull = <span class="built_in">input</span>(<span class="string">&quot;是否要从Android拉取视频(y/N):&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> pull == <span class="string">&#x27;y&#x27;</span>:</span><br><span class="line">        os.system(<span class="string">&#x27;adb pull &#x27;</span>+remote_path+<span class="string">&#x27; &#x27;</span>+video_path+<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        os.system(<span class="string">&#x27;adb shell rm &#x27;</span>+remote_path+<span class="string">&#x27;* &#x27;</span>)</span><br><span class="line"></span><br><span class="line">    files = os.listdir(video_path)</span><br><span class="line">    print(<span class="string">&quot;可用来测试的视频 :&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(files)):</span><br><span class="line">        print(<span class="string">&#x27;【&#x27;</span>+<span class="built_in">str</span>(f)+<span class="string">&#x27;】 : &#x27;</span>+files[f])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        idx = <span class="built_in">input</span>(<span class="string">&#x27;（&#x27;</span> + sub_model_name + <span class="string">&#x27;）&#x27;</span> + <span class="string">&quot;请选择序号：&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> idx.isdigit():</span><br><span class="line">            idx = <span class="built_in">int</span>(idx)</span><br><span class="line">            <span class="keyword">if</span> idx &gt;= <span class="built_in">len</span>(files) <span class="keyword">or</span> idx &lt; <span class="number">0</span>:</span><br><span class="line">                print(CommonTips.tip_arg_error+<span class="string">&quot;---数组越界&quot;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                os.system(exe_path + <span class="string">&#x27; &#x27;</span> + video_path + <span class="string">&#x27;\\&#x27;</span> + files[idx]+<span class="string">&#x27; &gt;&gt; log.txt&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;h&#x27;</span> == idx.lower():</span><br><span class="line">                print(op_info)</span><br><span class="line">            <span class="keyword">elif</span> <span class="string">&#x27;q&#x27;</span> == idx.lower():</span><br><span class="line">                print(CommonTips.tip_quit)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">elif</span> <span class="string">&#x27;r&#x27;</span> == idx.lower():</span><br><span class="line">                files = os.listdir(video_path)</span><br><span class="line">                print(<span class="string">&quot;可用来测试的视频 :&quot;</span>)</span><br><span class="line">                <span class="keyword">for</span> f <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(files)):</span><br><span class="line">                    print(<span class="string">&#x27;【&#x27;</span> + <span class="built_in">str</span>(f) + <span class="string">&#x27;】 : &#x27;</span> + files[f])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(CommonTips.tip_arg_error)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-16T08:42:10.000Z" title="2018-04-16T08:42:10.000Z">2018-04-16</time>发表</span><span class="level-item"><time dateTime="2022-04-20T16:32:02.584Z" title="2022-04-20T16:32:02.584Z">2022-04-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Spring%E7%B3%BB%E5%88%97/">Spring系列</a></span><span class="level-item">7 分钟读完 (大约1099个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/16/b7c1af5684ce.html">SpringBoot快速入门笔记</a></h1><div class="content">咨询了老哥，做一个系统用哪些东西比较好，给我推荐了Spring Boot。说真的，以前知道有Spring、SpringMVC，虽然还有一大堆东西，但是对Spring Boot还是略为陌生。所以，去搜了搜它的主要功能。总结网上所说，即最大的功能就是简化Spring应用的配置，让上手更容易。使用Mave</div><a class="article-more button is-small is-size-7" href="/2018/04/16/b7c1af5684ce.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-14T23:55:11.000Z" title="2018-04-14T23:55:11.000Z">2018-04-15</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:35.347Z" title="2021-02-09T03:03:35.347Z">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></span><span class="level-item">6 分钟读完 (大约850个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/15/f50fde222d04.html">MyEclipse中Maven的配置与使用</a></h1><div class="content"><p>Maven可以帮你搞定一些项目上的包依赖，与Android Studio中的Gradle有点类似，当然也有很大的不一样。目前认识还是有点粗浅，期待后续的深入。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>虽然MyEclipse上面也集成了Maven，但是版本比官网上的低一些。从官网上面下载最新的软件包，找个合适的位置解压，然后在环境变量中加入所解压目录下的bin目录。<br><img src="/images/pics/ba23ff4b10064b2e37d09e72869fe40e.jpg" alt="这里写图片描述"></p>
<p>具体的配置方式，视不同的<code>Shell</code>，修改不同的配置文件。再此处为<code>zsh</code>，修改了<code>~/.zshrc</code>的内容如下：<br><img src="/images/pics/5dbf2caa5cc88c0e6a627cc444cae779.jpg" alt="这里写图片描述"><br>检查配置是否成功<br><img src="/images/pics/ea5d678efaf83609bfcfa0934d39a651.jpg" alt="这里写图片描述"><br>还需要修改conf目录下的<code>setting.xml</code>文件的<code>localRepository</code>的路径。从注释我们可以看到，如果不设置的话，默认是在<code>~/.m2/repository</code>目录下。该目录的主要功能就是存放Maven从仓库里面下下来的包。<br><img src="/images/pics/a3fdf745752e8ccbea690e376c9456fa.jpg" alt="这里写图片描述"></p>
<p>接下来在MyEclipse中集成我们下载后解压的Maven。打开<code>Preference</code>，依次选择<code>Maven</code>中的<code>Installations</code>与<code>User Settings</code>，添加Maven的路径以及配置文件后如下：<br><img src="/images/pics/78062af7432636d2e8ec6b0709dd2036.jpg" alt="这里写图片描述"><br><img src="/images/pics/47fc73b3758155409c024410b957770b.jpg" alt="这里写图片描述"></p>
<p>到此基本配置完成。</p>
<h2 id="创建Maven项目"><a href="#创建Maven项目" class="headerlink" title="创建Maven项目"></a>创建Maven项目</h2><p>看<a target="_blank" rel="noopener" href="https://www.cnblogs.com/banning/p/6263228.html">网上的博客</a>，创建Maven项目的方式有很多，尚不清楚它们会不会有什么差异。不过能达到使用Maven的功能就没差了吧。</p>
<p><strong><em>第一次创建Maven项目时，它从服务器上面下载jar包会花费很长的时间，请耐心等待</em></strong></p>
<h3 id="方法一：创建JavaWeb项目同时添加Maven支持"><a href="#方法一：创建JavaWeb项目同时添加Maven支持" class="headerlink" title="方法一：创建JavaWeb项目同时添加Maven支持"></a>方法一：创建JavaWeb项目同时添加Maven支持</h3><p>感觉这种方法流程较简单。创建流程如下：<br>New一个<code>Web Project</code>，然后勾上<code>Add Maven Support</code>选项<br><img src="/images/pics/956b9e30afd718c4d9480d7b81b42a5a.jpg" alt="这里写图片描述"><br>重复选择下一步，直到出现Maven的相关设置。这里被建议选择<code>Standard Maven JEE project structure</code>。其实就是项目的目录结构不一样。之后，选择到Finish即可完成创建。<br><img src="/images/pics/99de623a5f91721621160d8a40df6048.jpg" alt="这里写图片描述"><br>创建后如下，但是请注意啊，这已经是第二次创建了。所以再重复一下：<br><strong><em>第一次创建Maven项目时，它从服务器上面下载jar包会花费很长的时间，请耐心等待</em></strong><br><img src="/images/pics/81d6016321dc5161eef745f4628ade3b.jpg" alt="这里写图片描述"></p>
<h3 id="方法二：创建Maven-Web项目"><a href="#方法二：创建Maven-Web项目" class="headerlink" title="方法二：创建Maven Web项目"></a>方法二：创建Maven Web项目</h3><p>选择创建一个<code>Maven Project</code><br><img src="/images/pics/2842377c4a93f7df441bfe82bd522d84.jpg" alt="这里写图片描述"><br>选择创建<br><img src="/images/pics/007cf6cb3e2eac480b417d575a3e089f.jpg" alt="这里写图片描述"><br>后续按实际需求填写即可</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>在该项目的<code>pom.xml</code>中添加依赖信息，然后点击<code>Build Project</code>，Maven就会把相关的依赖信息都找齐到本项目中。</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/21/">上一页</a></div><div class="pagination-next"><a href="/page/23/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/21/">21</a></li><li><a class="pagination-link is-current" href="/page/22/">22</a></li><li><a class="pagination-link" href="/page/23/">23</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/26/">26</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">二月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">一月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">十月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">七月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">四月 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">十月 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">九月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">八月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">二月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">十一月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">十月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">八月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">七月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">六月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">五月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">四月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">三月 2019</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">二月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">一月 2019</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">十一月 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">八月 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">六月 2018</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">五月 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">四月 2018</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">一月 2018</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">十二月 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">十月 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">九月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/03/"><span class="level-start"><span class="level-item">三月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/01/"><span class="level-start"><span class="level-item">一月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">十二月 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-02-21T02:20:08.000Z">2024-02-21</time></p><p class="title"><a href="/2024/02/21/84ee50d29e8e.html">Google Pixel 7a玩机攻略</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-30T06:39:01.000Z">2024-01-30</time></p><p class="title"><a href="/2024/01/30/64634917304d.html">2024年CKS考试准备</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/06/26/dee71ca0ecee.html"><img src="/images/pics/wkhGYG.jpg" alt="利用OpenWrt为虚拟机做流量代理"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-06-26T02:55:51.382Z">2023-06-26</time></p><p class="title"><a href="/2023/06/26/dee71ca0ecee.html">利用OpenWrt为虚拟机做流量代理</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/06/12/916fff7d458d.html"><img src="/images/pics/b00a1e01142bcaeee115eaab5848ce85.jpg" alt="Git 操作及原理"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-06-12T07:12:22.446Z">2023-06-12</time></p><p class="title"><a href="/2023/06/12/916fff7d458d.html">Git 操作及原理</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/06/12/e54d04dcd0b8.html"><img src="/images/pics/Sd0C2u.jpg" alt="换行符问题"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-06-12T07:08:08.170Z">2023-06-12</time></p><p class="title"><a href="/2023/06/12/e54d04dcd0b8.html">换行符问题</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://crisfang.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Cris</span></span><span class="level-right"><span class="level-item tag">crisfang.com</span></span></a></li><li><a class="level is-mobile" href="https://sanyuesha.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">三月沙</span></span><span class="level-right"><span class="level-item tag">sanyuesha.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png" alt="一条肥鱼" height="28"></a><p class="is-size-7"><span>&copy; 2024 一条肥鱼</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="To Find Me" href="https://github.com/feiyudev"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>